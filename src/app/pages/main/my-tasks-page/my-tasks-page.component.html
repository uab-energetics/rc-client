<div class="page">
  <div class="container">


    <div class="page-header">
      <h1 class="page-title"> My Tasks</h1>
    </div>


    <div class="page-content container-fluid">
      <button
        type="button"
        (click)="openModal(modal)"
        class="btn btn-raised btn-primary">
        <i class="icon wb-plus-circle"></i>
        Find Tasks
      </button>

      <br/>
      <br/>

      <mat-card>
        <mat-card-content>
        <mat-tab-group class="tasks-tab-group">
          <mat-tab label="Pending">
            <div class="tasks-tab-content">
              <app-task-list
                [paginator]="pendingPaginator"
                statusName="pending"
                (clickFindTasks)="openModal(modal)"
                (clickQuitTask)="quitTask($event)">
              </app-task-list>
            </div>
          </mat-tab>
          <mat-tab label="In Progress">
            <div class="tasks-tab-content">
              <app-task-list
                [paginator]="inProgressPaginator"
                statusName="in progress"
                [showFindTaskPromptIfEmpty]="false"
                (clickFindTasks)="openModal(modal)"
                (clickQuitTask)="quitTask($event)">
              </app-task-list>
            </div>
          </mat-tab>
          <mat-tab label="Complete">
            <div class="tasks-tab-content">
              <app-task-list
                [paginator]="completePaginator"
                statusName="complete"
                [showFindTaskPromptIfEmpty]="false"
                (clickFindTasks)="openModal(modal)"
                (clickQuitTask)="quitTask($event)">
              </app-task-list>
            </div>
          </mat-tab>
          </mat-tab-group>
        </mat-card-content>
      </mat-card>

    </div>
  </div>




  <ng-template #modal let-c="close" let-d="dismiss">
    <div class="modal-header">
      <h4 class="modal-title">Find Tasks</h4>
      <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <app-find-task #taskFormComp></app-find-task>
    </div>
    <div class="modal-footer">
      <button
        [disabled]="taskFormComp.selectedProjectForm === null"
        (click)="onTaskFormSubmit(taskFormComp.selectedProjectForm)"
        class="btn btn-success float-right">+ Request</button>
    </div>
  </ng-template>

</div>
