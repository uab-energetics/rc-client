<div class="page">
  <div class="container">


    <div class="page-header">
      <h1 class="page-title"> My Tasks</h1>
    </div>


    <div class="page-content container-fluid">
      <button
        type="button"
        (click)="openModal(modal)"
        class="btn btn-raised btn-primary">
        <i class="icon wb-plus-circle"></i>
        Find Tasks
      </button>

      <app-task-list
        [taskFunc]="pendingFunc"
        [statusName]="'pending'"
        (clickFindTasks)="openModal(modal)"></app-task-list>
      <app-task-list
        [taskFunc]="inProgressFunc"
        [statusName]="'in progress'"
        [showFindTaskPromptIfEmpty]="false"
        (clickFindTasks)="openModal(modal)"></app-task-list>
      <app-task-list
        [taskFunc]="completeFunc"
        [statusName]="'complete'"
        [showFindTaskPromptIfEmpty]="false"
        (clickFindTasks)="openModal(modal)"></app-task-list>

    </div>
  </div>




  <ng-template #modal let-c="close" let-d="dismiss">
    <div class="modal-header">
      <h4 class="modal-title">Find Tasks</h4>
      <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <app-find-task #taskFormComp></app-find-task>
    </div>
    <div class="modal-footer">
      <button
        [disabled]="taskFormComp.selectedProjectForm === null"
        (click)="onTaskFormSubmit(taskFormComp.selectedProjectForm)"
        class="btn btn-success float-right">+ Request</button>
    </div>
  </ng-template>

</div>
